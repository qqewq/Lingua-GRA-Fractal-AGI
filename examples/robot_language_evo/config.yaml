# config.yaml ‚Äì –±–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Lingua GRA

# üá∑üá∫
# –≠—Ç–æ—Ç —Ñ–∞–π–ª –∑–∞–¥–∞—ë—Ç:
# - —Ä–∞–∑–º–µ—Ä—ã —É—Ä–æ–≤–Ω–µ–π —è–∑—ã–∫–∞;
# - –≤–µ—Å–∞ GRA-–ø–µ–Ω—ã (Lambda_l);
# - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—Ä–∞–∫—Ç–∞–ª—å–Ω–æ–≥–æ —Ä–µ–≥—É–ª—è—Ä–∏–∑–∞—Ç–æ—Ä–∞ (gamma_l, target_dim);
# - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±—É—á–µ–Ω–∏—è –∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤.
#
# üá¨üáß
# This file specifies:
# - language level dimensions;
# - GRA foam weights (Lambda_l);
# - fractal regularizer parameters (gamma_l, target_dim);
# - training and experiment settings.

model:
  vocab_size: 50000
  obs_dim: 16  # —Ä–∞–∑–º–µ—Ä –Ω–∞–±–ª—é–¥–µ–Ω–∏—è —Å—Ä–µ–¥—ã –¥–ª—è –ø—Ä–∞–≥–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è

  levels:
    symbolic:
      dim: 128
      lambda_weight: 1.0
      gamma_fractal: 0.0
      target_fractal_dim: null

    syntactic:
      dim: 128
      lambda_weight: 0.5
      gamma_fractal: 0.0
      target_fractal_dim: null

    semantic:
      dim: 256
      lambda_weight: 1.0
      gamma_fractal: 0.1
      # –ú–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ—Å–ª–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞ fractal_dimension_analysis.
      target_fractal_dim: 7.5

    pragmatic:
      dim: 128
      lambda_weight: 0.5
      gamma_fractal: 0.0
      target_fractal_dim: null

    meta:
      dim: 128
      lambda_weight: 0.1
      gamma_fractal: 0.0
      target_fractal_dim: null

training:
  seed: 42
  device: "cuda"  # "cpu" –∏–ª–∏ "cuda"
  batch_size: 32
  max_steps: 100000
  lr: 0.0005
  grad_clip: 1.0

  # –ö–∞–∫ —á–∞—Å—Ç–æ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å
  log_every: 100
  save_every: 1000
  eval_every: 2000

  # –ü—É—Ç–∏
  output_dir: "runs/lingua_gra_experiment"
  metrics_file: "runs/lingua_gra_experiment/metrics.jsonl"
  checkpoint_dir: "runs/lingua_gra_experiment/checkpoints"

fractal_experiments:
  # –ü—É—Ç–∏ –∫ –∑–∞—Ä–∞–Ω–µ–µ –ø–æ—Å—á–∏—Ç–∞–Ω–Ω—ã–º —Ñ—Ä–∞–∫—Ç–∞–ª—å–Ω—ã–º —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—è–º –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ—Ä–ø—É—Å–æ–≤
  science_corpus_dim_file: "examples/fractal_dimension_analysis/science_dimension.json"
  fairy_tales_corpus_dim_file: "examples/fractal_dimension_analysis/fairy_tales_dimension.json"

  # –ö–∞–∫–æ–π –ø—Ä–æ—Ñ–∏–ª—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ —Ü–µ–ª–µ–≤–æ–π –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è
  semantic_target_profile: "science"  # "science" –∏–ª–∏ "fairy_tales" –∏–ª–∏ "custom"

  # –ï—Å–ª–∏ "custom", —Ç–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤—Ä—É—á–Ω—É—é:
  custom_semantic_target_dim: null

box_world:
  grid_size: 5
  msg_dim: 32
  hidden_dim: 64
  n_actions: 5
  num_episodes: 500
  max_steps_per_episode: 50
  target_D2_messages: 5.0
